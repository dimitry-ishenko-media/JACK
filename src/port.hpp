////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2025 Dimitry Ishenko
// Contact: dimitry (dot) ishenko (at) (gee) mail (dot) com
//
// Distributed under the GNU GPL license. See the LICENSE.md file for details.

////////////////////////////////////////////////////////////////////////////////
#ifndef JACK_PORT_HPP
#define JACK_PORT_HPP

////////////////////////////////////////////////////////////////////////////////
#include "types.hpp"

#include <cstddef>
#include <functional>
#include <memory>
#include <string>
#include <vector>

struct _jack_client;
using jack_client = _jack_client;

struct _jack_port;
using jack_port = _jack_port;

////////////////////////////////////////////////////////////////////////////////
namespace jack
{

////////////////////////////////////////////////////////////////////////////////
class port
{
public:
    ////////////////////
    port(jack_client*, const std::string& name, jack::dir);

    ////////////////////
    std::string name() const;

    bool is_input() const;
    bool is_output() const;

    bool is_physical() const;

    jack::buffer buffer(std::size_t) const;

private:
    ////////////////////
    std::unique_ptr<jack_port, std::function<void(jack_port*)>> port_;
};

////////////////////////////////////////////////////////////////////////////////
using ports = std::vector<port>;

////////////////////////////////////////////////////////////////////////////////
}

////////////////////////////////////////////////////////////////////////////////
#endif
